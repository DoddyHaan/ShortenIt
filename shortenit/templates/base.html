{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block meta_description %}ShortenIt - Transform long URLs into short, shareable links instantly{% endblock %}">
    <meta name="keywords" content="{% block meta_keywords %}URL shortener, link shortener, short URLs, URL compression{% endblock %}">
    <meta name="author" content="ShortenIt">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="{% block og_title %}ShortenIt - URL Shortener{% endblock %}">
    <meta property="og:description" content="{% block og_description %}Transform long URLs into short, shareable links instantly{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}ShortenIt - URL Shortener{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}Transform long URLs into short, shareable links instantly{% endblock %}">
    
    <title>{% block title %}ShortenIt - URL Shortener{% endblock %}</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    
    <!-- Static Files -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    
    <!-- Icon Library -->
    <link
    rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  
    <!-- Additional CSS -->
    {% block extra_css %}{% endblock %}
    
    <!-- Preconnect to external domains for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
          <div class="nav-logo">
            <a
              href="{% url 'index' %}"
              class="nav-link {% if current == 'index' %}active{% endif %}"
            >ShortenIt</a>
          </div>

          {% with request.resolver_match.url_name as current %}      
            <div class="nav-menu">
              {% if user.is_authenticated %}
                <a
                  href="{% url 'dashboard' %}"
                  class="nav-link {% if current == 'dashboard' %}active{% endif %}"
                >Dashboard</a>
      
                <a
                  href="{% url 'my_urls' %}"
                  class="nav-link {% if current == 'my_urls' %}active{% endif %}"
                >My URLs</a>
      
                <a
                  href="{% url 'analytics' %}"
                  class="nav-link {% if current == 'analytics' %}active{% endif %}"
                >Analytics</a>
      
                <div class="nav-dropdown">
                  <button
                    class="nav-dropdown-btn {% if current in 'profile logout' %}active{% endif %}"
                  >
                    {{ user.username }} â–¼
                  </button>
                  <div class="nav-dropdown-content">
                    <a
                      href="{% url 'profile' %}"
                      class="{% if current == 'profile' %}active{% endif %}"
                    >Profile</a>
                    <a
                      href="{% url 'logout' %}"
                      class="{% if current == 'logout' %}active{% endif %}"
                    >Logout</a>
                  </div>
                </div>
      
              {% else %}
                <a
                  href="{% url 'login' %}"
                  class="nav-link {% if current == 'login' %}active{% endif %}"
                >Login</a>
      
                <a
                  href="{% url 'register' %}"
                  class="nav-btn {% if current == 'register' %}active{% endif %}"
                >Sign Up</a>
              {% endif %}
            </div>
          {% endwith %}
        </div>
      </nav>
      
    <!-- Main Content -->
    <main class="main-content">
        {% block content %}
        <!-- This block will be overridden by child templates -->
        {% endblock %}
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <p>&copy; {% now "Y" %} ShortenIt. All rights reserved.</p>
        </div>
    </footer>
    
    <!-- JavaScript -->
    <script src="{% static 'js/script.js' %}"></script>
    
    <!-- Additional JavaScript -->
    {% block extra_js %}{% endblock %}
    
    <!-- Analytics or tracking scripts can go here -->
    {% block analytics %}{% endblock %}
</body>
</html>
